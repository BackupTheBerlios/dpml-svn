<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Developing With Apache Avalon</title><link type="text/css" rel="stylesheet" href="../../../styles/style.css" /><meta content="text/html; charset=UTF-8" http-equiv="Content-type" /></head><body><table class="logobar"><tr><td class="panelleft"><img alt="link" src="../../../images/feather.jpg" /></td><td class="panelmiddle"><div class="project">Metro</div><div class="title">Developing With Apache Avalon</div></td><td class="panelright" /></tr></table><div class="categorybar" dir="/central/laboratory/developing"><a class="homecategory" href="../../../index.html">
        Home
      </a></div><div class="menubar"><div class="menu"><div class="menu"><div class="menu"><a class="menuitem" href="../../about/index.html">Welcome</a><a class="menuitem" href="../../community/index.html">Community</a></div><a class="menuitem" href="../studio/index.html">Studio</a><a class="menuitem" href="../discovery/index.html">Discovery</a><a class="menuitem" href="../castle/index.html">Castle</a></div><a class="menuitem" href="index.html">Introduction</a><a class="menuitem" href="introduction.html">Overview</a><a class="menuitem" href="decomposing.html">Decomposition</a><a class="menuitem" href="framework.html">Avalon Framework</a><a class="menuitem" href="merlin.html">Avalon Merlin</a><a class="menuitem-selected" href="repository.html">Avalon Repository</a><a class="menuitem" href="logging.html">Avalon Logging</a><a class="menuitem" href="implementing.html">Using the framework</a><a class="menuitem" href="compatiblity.html">Compatibility with Avalon</a><a class="menuitem" href="strategies.html">Development Strategies</a><a class="menuitem" href="conclusion.html">Conclusion</a><a class="menuitem" href="authors.html">Authors</a></div></div><div class="content">
    <div class="section"><span class="section-header">Avalon Repository</span>
      <p>
        <strong><em>Work in progress.</em></strong>
      </p>
      <p>
        The Avalon Repository system is a powerful solution to <em>Jar 
        Hell</em>. The underlying technology is fairly straight forward
        but it enables so much;
      </p>
      <ul>
        <li>
          Avalon Merlin can bootstrap itself remotely, via a ~20kB Jar.
        </li>
        <li>
          It is not necessary to keep any Jar files on the computers running
          your applications.
        </li>
        <li>
          The components declares which Jars are required to run, and Merlin
          will magically download them and make them available.
        </li>
        <li>
          You can include components from your own or third-party component
          repositories, with a single line in block.xml. No download required.
        </li>
        <li>
          When a component requires a newer version, you just update the version
          field in the block.xml.
        </li>
        <li>
          Centralized management of Jars at a single location. No need to 
          distribute Jars to many projects within your organization.
        </li>
      </ul>
      <div class="section"><span class="section-header">Using Avalon Repository</span>
        <p>
          To leverage the extensive repository of Maven at ibiblio.org and other
          compliant repositories, Avalon Repository is capable of harnessing these
          resources. That means that if your component depends on, let's say,
          Jakarta Commons Collections, you don't need to track that Jar in
          your project(s) at all, just specify;
        </p>
<pre class="source">
    <resource id="commons-collections:commons-collections" version="2.1" />
</pre><div class="source-title"><span class="source-title" /></div>
        <p>
          in the block.xml. If you want to include a component in a repository
          into a component that you are working on, just enter;
        </p>
<pre class="source">
    <include name="accounting" id="accounts:accounts-api" version="3.4" />
    <include name="accounting-impl" id="accounts:french-impl" version="1.2.1" />
</pre><div class="source-title"><span class="source-title" /></div>
      </div>
      <div class="section"><span class="section-header">Bootstrapping Merlin with Repository</span>
        <p>
          Avalon Merlin can be bootstrapped with a minimal Jar file, and be
          downloaded and started from a central repository. And since the
          artifact (the object that Repository picks up) is always versioned,
          you can even select which version of Merlin that you want to start,
          without having Merlin installed on your system.
        </p>
        <p>
          Just make sure you have the merlin-cli-N.n.jar, and type;
        </p>
<pre class="source">
    java -jar merlin-cli-3.3.jar -impl "merlin:merlin-impl;3.3" -execute block.xml
</pre><div class="source-title"><span class="source-title" /></div>
        <p>
          Please note that the first delimiter is a colon (:) and the second
          one is a semicolon (;).
        </p>
        <p>
          And the <code>block.xml</code> can either be a local file or a remote
          URL, such as <code>http://myhost.org/blocks/someApp/block.xml</code>
        </p>
      </div>
    </div>
  </div><div class="footer"><span class="copyright">Copyright 2004, The Apache Software Foundation All rights reserved.</span><div class="views"><a class="viewlink" id="xmllink" href=""><img src="../../../images/xml.gif" /></a></div></div></body></html>