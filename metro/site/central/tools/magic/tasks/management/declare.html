<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Avalon Central</title><link type="text/css" rel="stylesheet" href="../../../../../styles/style.css" /><meta content="text/html; charset=UTF-8" http-equiv="Content-type" /></head><body><table class="logobar"><tr><td class="panelleft"><img alt="link" src="../../../../../images/feather.jpg" /></td><td class="panelmiddle"><div class="project">Metro</div><div class="title">Avalon Central</div></td><td class="panelright" /></tr></table><div class="categorybar" dir="/central/tools/magic/tasks/management"><a class="homecategory" href="../../../../../index.html">
        Home
      </a></div><div class="menubar"><div class="menu"><div class="menu"><div class="menu"><div class="menu"><div class="menu"><a class="menuitem" href="../../../../about/index.html">Welcome</a><a class="menuitem" href="../../../../community/index.html">Community</a></div><a class="menuitem-selected" href="../../../magic/index.html">Magic</a></div><a class="menuitem" href="../../installation.html">Installing</a><a class="menuitem" href="../../spells/index.html">Casting Spells</a><a class="menuitem" href="../../model/index.html">System Model</a><a class="menuitem" href="../../templates/index.html">Templates</a><a class="menuitem-selected" href="../../tasks/index.html">Tasks</a><a class="menuitem" href="../../../../../avalon/tools/avalon-tools-magic/index.html">Javadoc</a></div><a class="menuitem" href="../common/index.html">Common</a><a class="menuitem-selected" href="../management/index.html">Management</a><a class="menuitem" href="../production/index.html">Production</a><a class="menuitem" href="../publication/index.html">Publication</a></div><a class="menuitem" href="init.html">Init</a><a class="menuitem" href="plugin.html">Plugin</a><a class="menuitem-selected" href="declare.html">Declare</a><a class="menuitem" href="artifact.html">Artifact</a><a class="menuitem" href="reactor.html">Reactor</a></div></div><div class="content">
    <div class="section"><span class="section-header">Declare Task</span>
      <p>
      The declare task generates meta data about a plugin.  This information
      is used by the <a class="doclink" href="plugin.html">plugin</a> task to load and install
      tasks and project listeners.  The classpath is automatically generated from
      the plugin descriptor using the RUNTIME policy combhined with the deliverable
      jar generated by the project.
      </p>
<pre class="source">
&lt;x:declare/&gt;
</pre><div class="source-title"><span class="source-title" /></div>

<pre>build:
[x:declare] creating plugin declaration
    [mkdir] Created dir: F:\dev\avalon\runtime\meta\tools\target\deliverables\plugins</pre>

      <p>
      An example of the plugin meta data generated by the prepare 
      task is shown below.
      </p>

<pre>
&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;

&lt;plugin&gt;
  &lt;info&gt;
    &lt;name&gt;avalon-meta-tools&lt;/name&gt;
    &lt;group&gt;avalon/meta&lt;/group&gt;
    &lt;version&gt;1.4.0&lt;/version&gt;
    &lt;type&gt;plugin&lt;/type&gt;
  &lt;/info&gt;
  &lt;tasks&gt;
    &lt;taskdef name="meta" class="org.apache.avalon.meta.info.ant.MetaTask"/&gt;
  &lt;/tasks&gt;
  &lt;listeners&gt;
    &lt;listener class="org.apache.avalon.meta.info.ant.MetaBuildListener"/&gt;
  &lt;/listeners&gt;
  &lt;classpath&gt;
    &lt;artifact&gt;jar:avalon/meta/avalon-meta-impl#1.4.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/meta/avalon-meta-spi#1.4.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/meta/avalon-meta-api#1.4.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/framework/avalon-framework-api#4.2.1&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/util/avalon-util-i18n#1.0.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/util/avalon-util-configuration#1.0.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/framework/avalon-framework-impl#4.2.1&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/framework/avalon-framework-legacy#4.2.1&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/logkit/avalon-logkit#2.0.0&lt;/artifact&gt;
    &lt;artifact&gt;jar:log4j/log4j#1.2.8&lt;/artifact&gt;
    &lt;artifact&gt;jar:servletapi/servletapi#2.3&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/tools/mailapi#1.3.1&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/tools/jms#1.1&lt;/artifact&gt;
    &lt;artifact&gt;jar:qdox/qdox#1.3&lt;/artifact&gt;
    &lt;artifact&gt;jar:avalon/meta/avalon-meta-tools#1.4.0&lt;/artifact&gt;
  &lt;/classpath&gt;
&lt;/plugin&gt;

</pre>

    </div>
  </div><div class="footer"><span class="copyright">Copyright 2004, The Apache Software Foundation All rights reserved.</span><div class="views"><a class="viewlink" id="xmllink" href=""><img src="../../../../../images/xml.gif" /></a></div></div></body></html>