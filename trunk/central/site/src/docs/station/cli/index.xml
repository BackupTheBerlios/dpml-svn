<?xml version="1.0" encoding="UTF-8"?>

<document>

  <properties>
    <author email="mcconnell@dpml.net">Stephen McConnell</author>
    <title>DPML Metro Station CLI</title>
  </properties> 

  <body>

    <section name="Station Command Line">

      <subsection name="Description">

        <p>
        The station commandline handler provides support for the startup and shutdown of 
        a collection of background applications runing under dedicated virtual machines.  
        In a production environment the station is normally setup as a background service 
        (e.g. on Windows resources are provided for the deployment of the Station as an 
        NT service).  During station startup  any application profile declaring a 
        <tt>AUTOMATIC</tt> startup policy will be deployed.  Applications handled by the 
        station are declared under a station deployment plan.
        </p>

      </subsection>

      <subsection name="Commandline">

<pre><![CDATA[$ station -help

  Description:

    Process management controller.

  Usage: $ station startup [<uri>] | info | shutdown | -help | -version

  Common Options:

    -help              list command help and exit
    -version           list version info and exit
    -port              override the RMI Registry port value

  Commands:

    startup [<uri>]    startup the station

        <uri>          uri referencing a plan datatype
                       if not supplied the default station deployment
                       plan (local:plan:dpml/station/default) will
                       be selected

        -server        enables server execution mode

    info               list station operational status and exit

    shutdown           shutdown the station
]]></pre>

      </subsection>

      <subsection name="Commands">

        <table>
          <tr><td width="100">startup</td><td>Start the station server (implying 
             starup of all applications with an AUTOMATIC startup policy).</td></tr>
          <tr><td>info</td><td>List information about registered applications.</td></tr>
          <tr><td>shutdown</td><td>Shutdown the station (implying shutdown of all 
            applications under the control of the station).</td></tr>
        </table>

      </subsection>

    </section>
    
    <section name="Examples">
      
      <subsection name="Station Startup">
      
        <p>
        The following commandline demonstrates the startup of the station using 
        the deployment profile declared under the default value <tt>local:plan:dpml/station/default</tt>
        (a plan defintion stored in the local DPML preferences directory).
        </p>
        
      
<pre>$ station startup
[2380 ] [INFO   ] (dpml.station): station startup
[3196 ] [INFO   ] (dpml.station): created local registry on port 1099
[3196 ] [INFO   ] (dpml.station.plan): commissioning plan
[3196 ] [INFO   ] (dpml.station.plan): plan commissioning complete
[2380 ] [INFO   ] (dpml.station): startup complete
</pre>

      </subsection>
      
      <subsection name="Station Startup">
      
        <p>
        Assuming a station instance is up and running, the following command 
        trigger the establishment of a connection to the remote station and the 
        iniation of a shutdown sequence.
        </p>
        
<pre>$ station shutdown
[3776 ] [INFO   ] (dpml.station): initiating remote shutdown
[3776 ] [INFO   ] (dpml.station): remote shutdown request completed
</pre>

      </subsection>
      
    </section>
    
  </body>

</document>

