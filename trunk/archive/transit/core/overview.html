<body>

<p>
  A repository enabled application is an application the leverages a local
  cache of artifacts that are referenced via URI values.
</p>

<h3>Transit Overview</h3>

<p>
  Identifiers typically reference content in the form of an artifact uri such
  as <code>artifact:part:dpml/planet/http/dpml-http-demo#1234</code>. These
  identifiers disassociate the definition of an application from the source of
  the resources needed to build and deploy the application. Transit applications
  benefit from a local cache and multi-host repository management system when 
  resolving artifact references to physical resources.
</p>

<P>
  An application will normally make content requests through creation of a URL
  containing either a "artifact" or "link" protocol.  The Transit protocol handler
  interacts with one or more remote repositories to resolve application requests. 
</p>

<h3>Enabling Transit</h3>

<p>
Transit is enabled by including the dpml-transit-main.jar file within the system
classloader and declaring the following system property:
</p>

<pre>
    java.protocol.handler.pkgs = net.dpml.transit
</pre>

<h3>Transit Configuration</h3>

<p>
Transit configuration profiles are managed by the <a href="net/dpml/transit/model/TransitRegistryModel.html">TransitRegistryModel</a>.  Normally Transit will aquire a <a href="net/dpml/transit/model/TransitModel.html">TransitModel</a> automatically as a result of a request for url resolution or access to Transit classloader construction services. Advanced applications my use the registry to select a specific configuration profile.  Configuration profiles may be shared across multiple JVMs and model changes may be propergated at runtimes without a JVM restart.  

<p>
The default behavour Transit is controlled by the following system properties:
</p>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
  <TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
    <TD><B>Property Name</B></TD>
    <TD><B>Default</B></TD>
    <TD><B>Description</B></TD>
  </TR>
  <TR BGCOLOR="white" CLASS="TableRowColor">
    <TD>dpml.transit.profile</TD>
    <TD>none</TD>
    <TD>Used to select a stored configuration profile.  If undefined a default profile named <code>"default"</code> will be used.  If the profile does not exist it will initalized using Transit factory defaults or overriding authorative defaults if the <code>dpml.transit.authority</code> property is not null.
    </TD>
  </TR>
  <TR BGCOLOR="white" CLASS="TableRowColor">
    <TD>dpml.transit.authority</TD>
    <TD>none</TD>
    <TD>May be used to declare a remote location for Transit configuration data.  If declared, the value supplied must be a URL referencing an authoritive directory.  If the url declares the <code>file:</code> protocol the configuration of Transit will be based on information declared under a [URL]/cache.properties file and [URL]/hosts/*.host files.  If the URL references a remote directory, host files will be resolved by expanding a index file at the address [URL]/hosts.idx containing a list of host file urls.  If the host file URL is not absolute it will be resolved relative to the the base url.
    </TD>
  </TR>
</TABLE>

</body>