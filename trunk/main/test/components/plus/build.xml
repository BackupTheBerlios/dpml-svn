<?xml version="1.0" encoding="UTF-8" ?>

<project name="dpml-test-plus" default="install" basedir="."
    xmlns:transit="antlib:net.dpml.transit" 
    xmlns:x="plugin:dpml/magic/dpml-magic-core"
    xmlns:c="plugin:dpml/composition/dpml-composition-builder">

  <transit:import uri="local:template:magic/standard"/>

  <target name="build" depends="standard.build">

    <!-- create the configuration component -->
    <c:type class="net.dpml.test.acme.plus.ConfigurableComponent" threadsafe="true"/>

    <!-- create a configuration container with the configurable component as an internal part -->
    <c:type class="net.dpml.test.acme.plus.ConfigurableContainer" threadsafe="true">
      <parts>
        <component name="test" type="net.dpml.test.acme.plus.ConfigurableComponent">
          <configuration>
            <color>blue</color>
          </configuration>
        </component>
      </parts>
    </c:type>

    <!-- create the managed component -->
    <c:type class="net.dpml.test.acme.plus.ManagedComponent" threadsafe="true"/>

    <!-- create a managing container with the managed component as an internal part -->
    <c:type class="net.dpml.test.acme.plus.ManagingContainer" threadsafe="true">
      <parts>
        <component key="test" type="net.dpml.test.acme.plus.ManagedComponent"/>
      </parts>
    </c:type>

    <c:component type="net.dpml.test.acme.plus.ManagingContainer" name="container"/>

  </target>

</project>
