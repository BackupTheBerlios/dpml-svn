<?xml version="1.0" encoding="ISO-8859-1"?>

<module name="dpml" basedir="..">

   <properties>
     <property name="project.publisher.name" value="Digital Product Meta Library"/>
     <property name="project.specification.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor-id" value="net.dpml"/>
     <property name="project.publisher.url" value="http://www.dpml.net"/>
     <property name="project.resource.host" value="http://repository.dpml.net/"/>
     <property name="project.api.host" value="http://api.dpml.net/"/>
   </properties>

   <module name="util" basedir="util">

     <dependencies scope="build">
       <include key="transit"/>
     </dependencies>

     <project name="dpml-i18n" basedir="i18n">
       <types>
         <type id="jar"/>
       </types>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

   </module>

   <module name="transit">

     <properties>
       <property name="project.test.fork" value="true"/>
     </properties>

     <project name="dpml-transit-main" basedir="transit/core/handler">
       <types>
         <type id="jar"/>
       </types>
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <dependencies scope="TEST">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-transit-tools" basedir="transit/core/tools">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies scope="RUNTIME">
         <include key="dpml-transit-main"/>
         <include ref="ant/ant"/>
       </dependencies>
       <dependencies scope="TEST">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

   </module>

   <module name="metro" basedir="metro">

     <project name="dpml-activity-api" basedir="activity">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-logging-api" basedir="logging">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
     </project>

     <project name="dpml-configuration-api" basedir="configuration/api">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-configuration-impl" basedir="configuration/impl">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-configuration-api"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-parameters-api" basedir="parameters/api">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-parameters-impl" basedir="parameters/impl">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-parameters-api"/>
         <include key="dpml-configuration-api" tag="private"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-state-api" basedir="state/api">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
     </project>

     <project name="dpml-state-impl" basedir="state/impl">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include key="dpml-configuration-impl"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-part-api" basedir="part">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.part.PartContentHandler"/>
         </type>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include ref="dpml/transit/dpml-transit-main" tag="private"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-component-model" basedir="component/model">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include key="dpml-parameters-api" tag="public"/>
         <include key="dpml-configuration-api" tag="public"/>
         <include key="dpml-part-api" tag="public"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
         <include key="dpml-state-impl"/>
         <include key="dpml-parameters-impl"/>
         <include key="dpml-configuration-impl"/>
       </dependencies>
     </project>

     <project name="dpml-component-control" basedir="component/control">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-component-model" tag="public"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>
      
     <project name="dpml-composition-editor" basedir="composition/editor">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
         <property name="project.plugin.class" 
            value="net.dpml.metro.runtime.edit.CompositionEditorFactory"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-component-control" tag="public"/>
         <include ref="jgoodies/forms" tag="private"/>
       </dependencies>
     </project>

     <project name="dpml-composition-runtime" basedir="composition/runtime">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.metro.runtime.CompositionController"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-logging-api" tag="public"/>
         <include key="dpml-activity-api" tag="public"/>
         <include key="dpml-component-control" tag="protected"/>
         <include key="dpml-parameters-impl"/>
         <include key="dpml-configuration-impl"/>
         <include key="dpml-state-impl"/>
       </dependencies>
     </project>

     <project name="dpml-metro-tools" basedir="composition/tools">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.resource" 
              value="net/dpml/composition/tools/antlib.xml"/>
           <property name="project.plugin.urn" 
              value="dpml:composition"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/tools/dpml-tools-ant"/>
         <include ref="dpml/transit/dpml-transit-tools"/>
         <include key="dpml-composition-runtime"/>
         <include ref="xstream/xstream"/>
       </dependencies>
     </project>

     <project name="dpml-composition-test" basedir="composition/test">
       <properties>
         <property name="project.template" value="${basedir}/builder.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-logging-api"/>
       </dependencies>
       <dependencies scope="test">
         <include key="dpml-metro-tools"/>
       </dependencies>
     </project>

   </module>

   <module name="tools" basedir="tools">
  
     <project name="dpml-tools-info" basedir="info">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-tools-model" basedir="model">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-tools-info"/>
       </dependencies>
     </project>

     <project name="dpml-tools-control" basedir="control">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.tools.library.BuildPlugin"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-tools-model"/>
         <include ref="commons-cli/commons-cli"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-tools-ant" basedir="ant">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.tools.ant.StandardBuilder"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-tools-control"/>
         <include ref="ant/ant-junit" tag="system"/>
         <include ref="ant/ant" tag="system"/>
       </dependencies>
     </project>

   </module>

</module>
