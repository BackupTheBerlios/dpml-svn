<?xml version="1.0" encoding="ISO-8859-1"?>

<module name="dpml" basedir=".">

   <properties>
     <property name="project.publisher.name" value="Digital Product Meta Library"/>
     <property name="project.specification.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor-id" value="net.dpml"/>
     <property name="project.publisher.url" value="http://www.dpml.net"/>
     <property name="project.resource.host" value="http://repository.dpml.net/"/>
     <property name="project.api.host" value="http://api.dpml.net/"/>
   </properties>

   <module name="util" basedir="util">

     <types>
       <type id="module" alias="true"/>
     </types>

     <dependencies scope="build">
       <include key="transit"/>
     </dependencies>

     <project name="dpml-i18n" basedir="i18n">
       <types>
         <type id="jar"/>
       </types>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

   </module>

   <module name="transit" basedir="transit">

     <types>
       <type id="module" alias="true"/>
     </types>

     <properties>
       <property name="project.test.fork" value="true"/>
     </properties>

     <resource name="dpml-transit-main" basedir="core/handler">
       <types>
         <type id="jar"/>
       </types>
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <dependencies scope="TEST">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </resource>

     <resource name="dpml-transit-tools" basedir="core/tools">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies scope="RUNTIME">
         <include key="dpml-transit-main"/>
         <include ref="ant/ant"/>
       </dependencies>
       <dependencies scope="TEST">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </resource>

   </module>

   <module name="metro" basedir="metro">

     <types>
       <type id="module" alias="true"/>
     </types>

     <project name="dpml-activity-api" basedir="activity">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-logging-api" basedir="logging">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
     </project>

     <project name="dpml-configuration-api" basedir="configuration/api">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-configuration-impl" basedir="configuration/impl">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-configuration-api"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-parameters-api" basedir="parameters/api">
       <types>
         <type id="jar"/>
       </types>
     </project>

     <project name="dpml-parameters-impl" basedir="parameters/impl">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-parameters-api"/>
         <include key="dpml-configuration-api" tag="private"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-state-api" basedir="state/api">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
     </project>

     <project name="dpml-state-impl" basedir="state/impl">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include key="dpml-configuration-impl"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-part-api" basedir="part">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.part.PartContentHandler"/>
         </type>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include ref="dpml/transit/dpml-transit-main" tag="private"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-component-model" basedir="component/model">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-state-api" tag="public"/>
         <include key="dpml-parameters-api" tag="public"/>
         <include key="dpml-configuration-api" tag="public"/>
         <include key="dpml-part-api" tag="public"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
         <include key="dpml-state-impl"/>
         <include key="dpml-parameters-impl"/>
         <include key="dpml-configuration-impl"/>
       </dependencies>
     </project>

     <project name="dpml-component-control" basedir="component/control">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-component-model" tag="public"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>
      
     <project name="dpml-composition-editor" basedir="composition/editor">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
         <property name="project.plugin.class" 
            value="net.dpml.composition.edit.CompositionEditorFactory"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-component-control" tag="public"/>
         <include ref="jgoodies/forms" tag="private"/>
       </dependencies>
     </project>

     <project name="dpml-composition-runtime" basedir="composition/runtime">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.composition.control.CompositionController"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-logging-api" tag="public"/>
         <include key="dpml-activity-api" tag="public"/>
         <include key="dpml-component-control" tag="protected"/>
         <include key="dpml-parameters-impl"/>
         <include key="dpml-configuration-impl"/>
         <include key="dpml-state-impl"/>
       </dependencies>
     </project>

     <project name="dpml-composition-tools" basedir="composition/tools">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.resource" 
              value="net/dpml/composition/tools/antlib.xml"/>
           <property name="project.plugin.urn" 
              value="dpml:composition"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/tools/dpml-tools-ant"/>
         <include ref="dpml/transit/dpml-transit-tools"/>
         <include key="dpml-composition-runtime"/>
         <include ref="xstream/xstream"/>
       </dependencies>
     </project>

     <project name="dpml-composition-test" basedir="composition/test">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-logging-api"/>
       </dependencies>
       <dependencies scope="test">
         <include key="dpml-composition-tools"/>
       </dependencies>
     </project>

   </module>

   <module name="tools" basedir="tools">

     <types>
       <type id="module" alias="true"/>
     </types>
 
     <resource name="dpml-tools-library" basedir="library">
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.tools.control.BuildPlugin"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include ref="commons-cli/commons-cli"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </resource>

     <resource name="dpml-tools-ant" basedir="ant">
       <types>
         <!--<type id="jar"/>-->
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.tools.ant.StandardBuilder"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-tools-library"/>
         <include ref="dpml/transit/dpml-transit-tools"/>
         <include ref="ant/ant-junit" tag="system"/>
         <include ref="ant/ant" tag="system"/>
       </dependencies>
     </resource>

   </module>

   <module name="depot" basedir="depot">

     <types>
       <type id="module" alias="true"/>
     </types>

     <dependencies scope="build">
       <include key="tools"/>
     </dependencies>
 
     <project name="dpml-depot-console" basedir="console">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
       <dependencies scope="test">
         <include ref="ant/ant-junit"/>
       </dependencies>
     </project>

     <project name="dpml-profile-api" basedir="profile/api">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
       </dependencies>
     </project>

     <project name="dpml-profile-impl" basedir="profile/impl">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.profile.model.StandardRegistryModel"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-station-api"/>
       </dependencies>
     </project>

     <project name="dpml-depot-prefs" basedir="prefs">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.depot.prefs.DepotPreferencesFrame"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-profile-api"/>
         <include ref="jgoodies/looks" tag="system"/>
       </dependencies>
     </project>

     <project name="dpml-depot-desktop" basedir="desktop">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin" alias="true">
           <property name="project.plugin.class" 
              value="net.dpml.depot.desktop.Desktop"/>
         </type>
       </types>
       <dependencies>
         <include ref="jgoodies/looks" tag="system"/>
         <include ref="jgoodies/forms"/>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-depot-console"/>
         <include ref="dpml/metro/dpml-part-api"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-station-impl"/>
       </dependencies>
     </project>

     <project name="dpml-depot-exec" basedir="exec">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.depot.exec.ApplicationHandler"/>
         </type>
       </types>
       <dependencies>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-depot-console"/>
         <include ref="dpml/metro/dpml-part-api"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-station-api"/>
       </dependencies>
     </project>

     <project name="dpml-station-api" basedir="station/api">
       <types>
         <type id="jar"/>
       </types>
       <dependencies>
         <include key="dpml-depot-console"/>
         <include ref="dpml/metro/dpml-part-api"/>
         <include key="dpml-profile-api"/>
       </dependencies>
     </project>

     <project name="dpml-station-impl" basedir="station/impl">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.station.impl.DepotStation"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-depot-console"/>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include ref="dpml/metro/dpml-part-api"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-station-api"/>
       </dependencies>
     </project>

     <project name="dpml-depot-install" basedir="install">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.depot.install.PackageInstaller"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-depot-console"/>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-profile-impl"/>
         <include key="dpml-station-api"/>
       </dependencies>
     </project>

     <project name="dpml-depot-audit" basedir="audit">
       <properties>
         <property name="project.template" value="${basedir}/build.xml"/>
       </properties>
       <types>
         <type id="jar"/>
         <type id="plugin">
           <property name="project.plugin.class" 
              value="net.dpml.depot.audit.AuditProcessor"/>
         </type>
       </types>
       <dependencies>
         <include key="dpml-depot-console"/>
         <include ref="dpml/transit/dpml-transit-main"/>
         <include key="dpml-profile-api"/>
         <include key="dpml-station-api"/>
       </dependencies>
     </project>

  </module>

</module>
