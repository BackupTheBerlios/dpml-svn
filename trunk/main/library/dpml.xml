<?xml version="1.0" encoding="ISO-8859-1"?>

<module name="dpml" basedir="..">

   <properties>
     <property name="project.publisher.name" value="Digital Product Meta Library"/>
     <property name="project.specification.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor" value="${project.publisher.name}"/>
     <property name="project.implementation.vendor-id" value="net.dpml"/>
     <property name="project.publisher.url" value="http://www.dpml.net"/>
     <property name="project.resource.host" value="http://repository.dpml.net/"/>
     <property name="project.api.host" value="http://api.dpml.net/"/>
   </properties>

   <module name="transit">

     <dependencies>
       <include file="ant.xml"/>
     </dependencies>

     <projects>

       <project name="dpml-transit-main" basedir="transit/core/handler">
         <production>
           <type id="jar"/>
         </production>
       </project>

       <project name="dpml-transit-tools" basedir="transit/core/tools">
         <dependencies scope="BUILD">
           <include key="dpml-transit-main"/>
         </dependencies>
         <dependencies scope="RUNTIME" anchor="net.dpml.transit.Transit">
           <include ref="ant/ant"/>
         </dependencies>
         <dependencies scope="TEST">
           <include ref="ant/ant-junit"/>
         </dependencies>
         <production>
           <type id="jar"/>
         </production>
       </project>

     </projects>

   </module>

   <module name="metro">

     <projects>

       <project name="dpml-activity-api" basedir="metro/activity">
         <production>
           <type id="jar"/>
         </production>
       </project>

       <project name="dpml-logging-api" basedir="metro/logging">
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include ref="dpml/transit/dpml-transit-main"/>
         </dependencies>
       </project>

       <project name="dpml-configuration-api" basedir="metro/configuration/api">
         <production>
           <type id="jar"/>
         </production>
       </project>

       <project name="dpml-configuration-impl" basedir="metro/configuration/impl">
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-configuration-api"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-parameters-api" basedir="metro/parameters/api">
         <production>
           <type id="jar"/>
         </production>
       </project>

       <project name="dpml-parameters-impl" basedir="metro/parameters/impl">
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-parameters-api"/>
           <include key="dpml-configuration-api"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-state-api" basedir="metro/state/api">
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include ref="dpml/transit/dpml-transit-main"/>
         </dependencies>
       </project>

       <project name="dpml-state-impl" basedir="metro/state/impl">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-state-api" tag="public"/>
           <include key="dpml-configuration-impl"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-part-api" basedir="metro/part">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="plugin">
             <property name="project.plugin.class" 
                value="net.dpml.part.PartContentHandler"/>
           </type>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-state-api" tag="public"/>
           <include ref="dpml/transit/dpml-transit-main"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>


       <project name="dpml-component-model" basedir="metro/component/model">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-state-api" tag="public"/>
           <include key="dpml-parameters-api" tag="public"/>
           <include key="dpml-configuration-api" tag="public"/>
           <include key="dpml-part-api" tag="public"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
           <include key="dpml-state-impl"/>
           <include key="dpml-parameters-impl"/>
           <include key="dpml-configuration-impl"/>
         </dependencies>
       </project>

       <project name="dpml-component-control" basedir="metro/component/control">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-component-model" tag="public"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-composition-editor" basedir="metro/composition/editor">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
           <type id="plugin">
             <property name="project.plugin.class" 
                value="net.dpml.composition.edit.CompositionEditorFactory"/>
           </type>
         </production>
         <dependencies>
           <include key="dpml-component-control" tag="public"/>
           <include ref="jgoodies/forms"/>
         </dependencies>
       </project>

       <project name="dpml-composition-runtime" basedir="metro/composition/runtime">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
           <type id="plugin">
             <property name="project.plugin.class" 
                value="net.dpml.composition.control.CompositionController"/>
           </type>
         </production>
         <dependencies>
           <include key="dpml-activity-api" tag="public"/>
           <include key="dpml-component-control" tag="public"/>
           <include key="dpml-logging-api" tag="public"/>
           <include key="dpml-parameters-impl"/>
           <include key="dpml-configuration-impl"/>
           <include key="dpml-state-impl"/>
         </dependencies>
       </project>

       <project name="dpml-composition-tools" basedir="metro/composition/tools">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
           <type id="plugin">
             <property name="project.plugin.resource" 
                value="net/dpml/composition/tools/antlib.xml"/>
             <property name="project.plugin.urn" 
                value="dpml:composition"/>
           </type>
         </production>
         <dependencies>
           <include ref="dpml/tools/dpml-tools-ant"/>
           <include ref="dpml/transit/dpml-transit-tools"/>
           <include key="dpml-composition-runtime"/>
           <include ref="xstream/xstream"/>
         </dependencies>
       </project>

       <project name="dpml-composition-test" basedir="metro/composition/test">
         <properties>
           <property name="project.template" value="${basedir}/builder.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-logging-api"/>
         </dependencies>
         <dependencies scope="test">
           <include key="dpml-composition-tools"/>
         </dependencies>
       </project>

     </projects>

   </module>

   <module name="tools" basedir="tools">
  
     <projects>

       <project name="dpml-tools-info" basedir="info">
         <properties>
           <property name="project.template" value="${basedir}/build.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include ref="dpml/transit/dpml-transit-main"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-tools-model" basedir="model">
         <properties>
           <property name="project.template" value="${basedir}/build.xml"/>
         </properties>
         <production>
           <type id="jar"/>
         </production>
         <dependencies>
           <include key="dpml-tools-info"/>
         </dependencies>
       </project>

       <project name="dpml-tools-control" basedir="control">
         <properties>
           <property name="project.template" value="${basedir}/build.xml"/>
         </properties>
         <production>
           <type id="jar"/>
           <type id="plugin" class="net.dpml.tools.control.BuildPlugin"/>
         </production>
         <dependencies>
           <include key="dpml-tools-model"/>
         </dependencies>
         <dependencies scope="test">
           <include ref="ant/ant-junit"/>
         </dependencies>
       </project>

       <project name="dpml-tools-ant" basedir="ant">
         <properties>
           <property name="project.template" value="${basedir}/build.xml"/>
         </properties>
         <production>
           <type id="jar"/>
           <type id="plugin" class="net.dpml.tools.ant.StandardBuilder"/>
         </production>
         <dependencies>
           <include key="dpml-tools-control"/>
           <include ref="ant/ant-junit" tag="system"/>
           <include ref="ant/ant-launcher" tag="system"/>
         </dependencies>
       </project>

     </projects>

   </module>

</module>
