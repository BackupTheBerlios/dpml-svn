<?xml version="1.0" encoding="UTF-8"?>
<document>

  <properties>
    <author email="mcconnell@dpml.net">Stephen McConnell</author>
    <title>DPML Depot</title>
  </properties> 

  <body>
    <section name="JUnit Task">

      <p>
      The junit task handles unit test compilation, execution and reporting.  The 
      classpaths used for compilation is derived automatically from the project model
      using the TEST dependents.  The deliverable jar assoiated with the project is 
      added to the test compilation path to create the final test execution classpath. 
      </p>

<source><![CDATA[<x:junit/>
]]></source>
<pre>test:
    [mkdir] Created dir: F:\dev\avalon\runtime\activation\impl\target\test\classes
    [javac] Compiling 4 source files to F:\dev\avalon\runtime\activation\impl\target\test\classes
    [mkdir] Created dir: F:\dev\avalon\runtime\activation\impl\target\test\temp
     [copy] Copying 6 files to F:\dev\avalon\runtime\activation\impl\target\test\temp
    [mkdir] Created dir: F:\dev\avalon\runtime\activation\impl\target\test\reports
    [junit] Running org.apache.avalon.activation.impl.test.CodeSecurityDisabledTestCase
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 5.422 sec

    [junit] Running org.apache.avalon.activation.impl.test.CodeSecurityEnabledTestCase
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 15.469 sec

    [junit] Running org.apache.avalon.activation.impl.test.PlaygroundTestCase
    [junit] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 27.156 sec</pre>

    <subsection name="Tutorial">
      <table>
        <tr>
          <td><img src="/images/info.gif"/></td>
          <td><i>The <a href="http://www.osm.net/training/tooling/testcase.html">
               OSM Development Tooling Testcase Tutorial</a> demonstrates the 
               setup of unit tests within a Magic environment.</i>
          </td>
        </tr>
      </table>
    </subsection>
 
    <subsection name="Properties">
      
      <p>
      The following properties are used to set the execution of tests.
      </p>

      <table>
        <tr><th>Property</th><th>Default value</th><th>Description</th></tr>
        <tr>
          <td>${project.test.includes}</td>
          <td>**/*TestCase.java, **/*Test.java</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.excludes}</td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.enabled}</td>
          <td>Nothing yet</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.src}</td>
          <td>test</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.env}</td>
          <td>env</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.debug}</td>
          <td>true</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.fork}</td>
          <td>false</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.halt-on-error}</td>
          <td>true</td>
          <td></td>
        </tr>
        <tr>
          <td>${project.test.halt-on-failure}</td>
          <td>true</td>
          <td></td>
        </tr>
      </table>

    </subsection>

    </section>
  </body>

</document>

